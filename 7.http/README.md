## 服务器
- 服务器可以是**专业**服务器也可以是**个人**电脑
- 能在**特定（IP）服务器**的**特定端口**上监听客户端的请求，并根据请求的路径返回相应结果都叫服务器
    ```
    netstat  //活动链接
    ```
- 端口号的取值范围： 0 ~ 65535
- （如果关闭WebStorm没有关闭执行的任务，直接进->任务管理器->进程->node.exe）
- （如果关闭WebStorm没有关闭执行的任务，如果是mac-> ps -ef | grep node 找到id号）

## 服务器的特点
1. 能在特定的IP 特定端口上监听 客户端的请求
2. 当请求到来的时候能执行监听函数，并返回响应



## 客户端
- 只要能向**特定（IP）服务器**的**特定端口**发起请求并接受响应的都叫客户端
- 可以是mac、iphone、ipad、apple等等

## 数据在服务器和客户端之间传递（传递的是数据，是二进制流）
- 可以把服务器硬盘上**已经有的静态文件**发送给客户端
- 也可以由服务器经过逻辑处理生成的**动态内容**返回给客户端，比如**当前时间**
- 一个http事务由一条（从客户端发往服务器的）请求命令和一个（从服务器发回客户端的）响应结果组成
- 比如： 人与人之间通信，需要一种**传输手段**（声波）和一种彼此都懂的**语言**（比如普通话）
- 要让这些形形色色的机器能够通过网络进行交互，我们就需要指明一种**协议**（比如HTTP/HTTPS）和一种**数据封装格式**（比如HTML/JSON）
- http指的就是这种协议+数据格式的交流体系。

## 一个普通网站访问的过程(1)
- 浏览器（或其它客户端如微信）向服务器发出一个**HTTP请求**
- 先把**域名解析为IP地址**（chrome缓存1分钟（chrome://net-internals/#dns）->搜索操作系统缓存->读取本地host文件[C:\Windows\System32\drivers\etc]->发起DNS系统调用->运营商DNS缓存->找根域->com域）
- 客户端通过随机端口向服务器发起TCP三次握手，建立**TCP连接**
- 连接建立后浏览器就可以**发送HTTP请求**了
- 服务器接收到HTTP请求，解析请求的路径和参数，经过后台的一些处理之后**生成完整响应**页面
- 服务器将生成的页面作为HTTP**响应体**，根据不同的处理结果生成**响应头**，发回给客户端

## 一个普通网站访问的过程(2)
- 客户端（浏览器）接收到HTTP响应，从请求中得到的HTTP响应体里是HTML代码，于是对HTML代码开始**解析**
- 解析过程中遇到**引用的服务器上的资源**（额外的CSS、JS代码、图片、音视频、附件等），再向服务器发送请求
- 浏览器解析HTML包含的内容，用得到的CSS代码进行外观上的进一步**渲染**，JS代码也可能会对外观进行一定的**处理**
- 当用户与**页面交互**（点击，悬停等）时，JS代码对此作出一定的反应，添加特效与动画
- 交互的过程中可能需要向服务器索取或提交额外的数据（局部的刷新），一般不是跳转就是通过JS代码（响应某个动作或者定时）向服务器发送**AJAX**请求
- 服务器再把客户端需要的资源返回，客户端用得到的资源来实现动态效果或**修改DOM结构**

## 请求
- 请求的方式
    - GET 从服务器**获取资源**
    - POST 向服务器**提交资源**
- 请求的URL
- 请求头
    - Content-Type 指定响应内容的**类型**和**编码**，浏览器根据这个类型决定如何渲染这个内容，比如显示图片，播放MP3等
## 请求方法
    - 每条http请求报文都包括一个方法表示本次将要进行何种类型的操作，如读取一个页面，删除一个资源
    - get系请求用来从服务器获取数据，没有请求体，不会影响服务器端的数据
    - post系用来将数据发送到服务器，post会把要发送的数据放到请求体中，可能会影响服务器端的数据
## 报文
- 请求报文
    - 方法    用法
    - 起始行  请求**方法** 请求的**URL**HTTP/**协议版本**
    - 请求头  **通用**头 + 请求头 + **实体**头 + **扩展**头
    - 请求体  发送的数据（**get**类请求方法请求体为空）

- 响应报文
    - 方法    用法
    - 响应行  HTTP/协议**版本** **状态吗** **状态短语**
    - 响应头  **通用**头 + 响应头 + **实体**头 + **扩展**头
    - 响应体  **响应**的数据
- 状态码
    - 1xx 请求正在处理
    - 2xx 正常处理完成
        - 200 ok 请求成功
    - 3xx 重定向
        - 301 Moved Permanently 永久重定向
        - 302 Found 临时重定向
    - 4xx 客户端错误
        - 400 Bad Request 语法错误
        - 401 Unauthorized 权限未认证
        - 403 Forbidden 禁止访问
        - 404 Not Found 资源未找到
    - 5xx 服务器错误


[HTTP Content-Type 对照表](http://tool.oschina.net/commons)
[使用mime模块来响应css、js文件的请求](http://www.myexception.cn/HTML-CSS/1872593.html)